---
import { workExperience } from '@/lib/data';
import TimelineItem from './TimelineItem.astro';
import { Briefcase } from 'lucide-react';
---

<section
   id='experience'
   class='py-12 bg-linear-to-b from-muted/20 to-background'
>
   <div class='container max-w-4xl mx-auto px-6 md:px-4'>
      <h2 class='text-2xl font-bold mb-8 text-center md:text-left flex items-center md:inline-block section-heading'>
         <span class='inline-block mr-2 emoji-bounce'>ðŸ’¼</span>{' '}
         Work Experience
      </h2>
      
      <div class='mb-8'>
         {workExperience.map((job, index) => (
            <TimelineItem
               title={`ðŸ‘¨â€ðŸ’» ${job.position} | ${job.company}`}
               subtitle={`ðŸŒ ${job.location}`}
               date={`ðŸ“… ${job.period}`}
               isLast={index === workExperience.length - 1}
               index={index}
            >
               <div 
                  class='mt-3 p-4 bg-background/80 backdrop-blur-sm backdrop-filter rounded-lg border border-purple-500/20 dark:bg-card/10 dark:border-purple-500/10 shadow-sm achievement-card'
                  style={`animation-delay: ${index * 0.2 + 0.2}s`}
               >
                  <div class='flex items-center mb-3'>
                     <div class='h-6 w-6 flex items-center justify-center rounded-full bg-purple-500/10 mr-2'>
                        <Briefcase className='h-4 w-4 text-purple-500' />
                     </div>
                     <h4 class='text-sm font-medium'>Key Achievements</h4>
                  </div>
                  <ul class='list-none ml-4 space-y-2 text-sm'>
                     {job.achievements.map((achievement, i) => (
                        <li 
                           class='text-muted-foreground relative pl-6 achievement-item'
                           style={`animation-delay: ${index * 0.2 + 0.3 + i * 0.1}s`}
                        >
                           <span class='absolute left-0 top-1.5 h-1.5 w-1.5 rounded-full bg-purple-500/50'></span>
                           {achievement}
                        </li>
                     ))}
                  </ul>
               </div>
            </TimelineItem>
         ))}
      </div>
   </div>
</section>

<style>
   @keyframes fadeInUp {
      from {
         opacity: 0;
         transform: translateY(20px);
      }
      to {
         opacity: 1;
         transform: translateY(0);
      }
   }

   @keyframes fadeInLeft {
      from {
         opacity: 0;
         transform: translateX(-10px);
      }
      to {
         opacity: 1;
         transform: translateX(0);
      }
   }

   @keyframes bounce {
      0%, 100% {
         transform: rotate(0deg);
      }
      25% {
         transform: rotate(-10deg);
      }
      50% {
         transform: rotate(10deg);
      }
      75% {
         transform: rotate(-5deg);
      }
   }

   .section-heading {
      opacity: 0;
      animation: fadeInUp 0.6s ease-out forwards;
   }

   .emoji-bounce:hover {
      animation: bounce 0.5s ease-in-out;
   }

   .achievement-card {
      opacity: 0;
      animation: fadeInUp 0.5s ease-out forwards;
   }

   .achievement-item {
      opacity: 0;
      animation: fadeInLeft 0.3s ease-out forwards;
   }

   @media (prefers-reduced-motion: reduce) {
      .section-heading,
      .achievement-card,
      .achievement-item {
         animation: none;
         opacity: 1;
         transform: none;
      }

      .emoji-bounce:hover {
         animation: none;
      }
   }
</style>
